<div class="add_btn">
    <button class="btn btn-primary" (click)="AddDepartment()">Add Department</button>
</div>
<div class="page">
    <ngx-graph [links]="links" [nodes]="nodes" layout="dagre" [curve]="curve" [draggingEnabled]="draggingEnabled"
        [panningEnabled]="panningEnabled" [enableZoom]="zoomEnabled" [zoomSpeed]="zoomSpeed"
        [minZoomLevel]="minZoomLevel" [maxZoomLevel]="maxZoomLevel" [panOnZoom]="panOnZoom" [autoCenter]="autoCenter"
        [autoZoom]="autoZoom" [layoutSettings]="layoutSettings">

        <ng-template #nodeTemplate let-node>
            <svg:foreignObject class="custom-node">
                <div class="dept-menu">

                    <mat-icon mat-button [matMenuTriggerFor]="menu" class="material-icons-outlined">more_vert
                    </mat-icon>

                    <mat-menu #menu="matMenu">
                        <div class="mat-menu">

                            <button mat-menu-item (click)="AddDepartment()">

                                <mat-icon>add_circle_outline
                                </mat-icon>
                                Add

                            </button>
                            <button mat-menu-item (click)="EditDepartment(node.id)">
                                <mat-icon>edit
                                </mat-icon>
                                Edit

                            </button>


                        </div>
                    </mat-menu>

                </div>
                <div class="dept-data">
                    <div class="dept-label">{{node.label}}</div>
                    <small class="dept-code">{{node.codeLabel}}</small>
                </div>

            </svg:foreignObject>



        </ng-template>


        <ng-template #linkTemplate let-link>
            <svg:g class="edge">
                <svg:path class="line" stroke-width="2 " marker-end="url(#arrow) ">
                </svg:path>
            </svg:g>
        </ng-template>
    </ngx-graph>
</div>