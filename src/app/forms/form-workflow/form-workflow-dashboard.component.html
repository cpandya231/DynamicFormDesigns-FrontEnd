<button class="btn btn-primary" (click)="AddState()">New State</button>
<button class="btn btn-primary" (click)="SaveWorkflow()" [disabled]="IsSaveWorkflowDisabled">Save Workflow</button>
<div class="page">
    <ngx-graph [links]="WorkflowLinks" [nodes]="WorkflowStates" layout="dagre" [curve]="curve" [draggingEnabled]="draggingEnabled" [panningEnabled]="panningEnabled" [enableZoom]="zoomEnabled" [zoomSpeed]="zoomSpeed" [minZoomLevel]="minZoomLevel" [maxZoomLevel]="maxZoomLevel"
        [panOnZoom]="panOnZoom">
        <ng-template #nodeTemplate let-node>
            <svg:foreignObject class="custom-node">
                <div class="edit_icon">
                    <mat-icon (click)="EditState(node)">edit
                    </mat-icon>
                </div>
                <div class="state_label">{{node.label}}</div>
            </svg:foreignObject>
        </ng-template>

        <ng-template #defsTemplate>
            <svg:marker id="arrow" viewBox="0 -5 10 10 " refX="8 " refY="0 " markerWidth="4 " markerHeight="4 " orient="auto ">
                <svg:path d="M0,-5L10,0L0,5 " class="arrow-head " />
            </svg:marker>
        </ng-template>

        <ng-template #linkTemplate let-link>
            <svg:g class="edge ">
                <svg:path class="line " stroke-width="2 " marker-end="url(#arrow) ">
                </svg:path>
                <svg:text class="edge-label " text-anchor="middle ">
                    <textPath class="text-path " [attr.href]=" '#' + link.id " [style.dominant-baseline]="link.dominantBaseline " startOffset="50% ">

                    </textPath>
                </svg:text>
            </svg:g>
        </ng-template>
    </ngx-graph>